////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Init SMooth Scroll Bar
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

const myScroller = document.querySelector("#new-simonmutalib");

// Options
let options = {
	damping: 0.08,
	offsetTop: 100,
};

// Init Smooth Scroll
const pageScroller = Scrollbar.init(myScroller, options);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Update ScrollTrigger
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

pageScroller.setPosition(0, 0);
pageScroller.track.xAxis.element.remove();

// How to get them to work together
ScrollTrigger.scrollerProxy(document.body, {
	scrollTop(value) {
		if (arguments.length) {
			pageScroller.scrollTop = value;
		}

		return pageScroller.scrollTop;
	},
});

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Scroll Into View
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

function toTopLink() {
	const toTop = document.querySelectorAll(".to-top-link");

	toTop.forEach((link) => {
		const target = link.getAttribute("href");

		link.addEventListener("click", (e) => {
			e.preventDefault();

			pageScroller.scrollIntoView(document.querySelector(target), options);
		});
	});
}

toTopLink();
